The only alteration for real world usage youd need to make to the above inventory.py script would be changing the example inventory method to something that incorporates the business logic you would need for your own inventory, whether it would be calling as external API with all the server data or pulling in the information from a database or other data store.
Building a Custom Dynamic Inventory in PHP
You can build an inventory script in whatever language youd like. For example, the Python script from about can be ported to functional PHP as follows:
Until now, most of this book has demonstrated individual aspects of Ansible inventory, playbooks,ad hoc tasks, etc. But this chapter synthesizes everything weve gone over in the previous chapters and shows how Ansible is applied to real world infrastructure management scenarios.
Highly available Infrastructure with Ansible
Real world web applications require redundancy and horizontal scalability with multi server infrastructure. In the following example, well use Ansible to configure a complex infrastructure on servers provisioned either locally via Vagrant and VirtualBox or on a set of automatically provisioned instances running on either DigitalOcean or Amazon Web Services.
We wont study Varnishs VCL syntax in depth but well run through default.vcl and highlight what is being configured
